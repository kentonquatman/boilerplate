/*
selectivizr v1.0.2 - (c) Keith Clark, freely distributable under the terms
of the MIT license.

selectivizr.com
*//*

Notes about this source
-----------------------

 * The #DEBUG_START and #DEBUG_END comments are used to mark blocks of code
   that will be removed prior to building a final release version (using a
   pre-compression script)


References:
-----------

 * CSS Syntax          : http://www.w3.org/TR/2003/WD-css3-syntax-20030813/#style
 * Selectors           : http://www.w3.org/TR/css3-selectors/#selectors
 * IE Compatability    : http://msdn.microsoft.com/en-us/library/cc351024(VS.85).aspx
 * W3C Selector Tests  : http://www.w3.org/Style/CSS/Test/CSS3/Selectors/current/html/tests/

*/(function(e){function O(e){return e.replace(v,A).replace(m,function(e,t,n){var r=n.split(",");for(var i=0,s=r.length;i<s;i++){var o=I(r[i])+L,u=[];r[i]=o.replace(g,function(e,t,n,r,i){if(t){if(u.length>0){D(o.substring(0,i),u);u=[]}return t}var s=n?_(n):M(r);if(s){u.push(s);return"."+s.className}return e})}return t+r.join(",")})}function M(e){return!S||S.test(e)?{className:H(e),applyClass:!0}:null}function _(t){var r=!0,s=H(t.slice(1)),o=t.substring(0,5)==":not(",a,f;o&&(t=t.slice(5,-1));var l=t.indexOf("(");l>-1&&(t=t.substring(0,l));if(t.charAt(0)==":")switch(t.slice(1)){case"root":r=function(e){return o?e!=n:e==n};break;case"target":if(i==8){r=function(t){var n=function(){var e=location.hash,n=e.slice(1);return o?e==k||t.id!=n:e!=k&&t.id==n};U(e,"hashchange",function(){q(t,s,n())});return n()};break}return!1;case"checked":r=function(e){E.test(e.type)&&U(e,"propertychange",function(){event.propertyName=="checked"&&q(e,s,e.checked!==o)});return e.checked!==o};break;case"disabled":o=!o;case"enabled":r=function(e){if(w.test(e.tagName)){U(e,"propertychange",function(){event.propertyName=="$disabled"&&q(e,s,e.$disabled===o)});u.push(e);e.$disabled=e.disabled;return e.disabled===o}return t==":enabled"?o:!o};break;case"focus":a="focus";f="blur";case"hover":if(!a){a="mouseenter";f="mouseleave"}r=function(e){U(e,o?f:a,function(){q(e,s,!0)});U(e,o?a:f,function(){q(e,s,!1)});return o};break;default:if(!d.test(t))return!1}return{className:s,applyClass:r}}function D(e,t){var n,r=e.replace(y,k);if(r==k||r.charAt(r.length-1)==L)r+="*";try{n=o(r)}catch(i){B("Selector '"+e+"' threw exception '"+i+"'")}if(n)for(var s=0,u=n.length;s<u;s++){var a=n[s],f=a.className;for(var l=0,c=t.length;l<c;l++){var h=t[l];P(a,h)||h.applyClass&&(h.applyClass===!0||h.applyClass(a)===!0)&&(f=R(f,h.className,!0))}a.className=f}}function P(e,t){return(new RegExp("(^|\\s)"+t.className+"(\\s|$)")).test(e.className)}function H(e){return l+"-"+(i==6&&f?a++:e.replace(b,function(e){return e.charCodeAt(0)}))}function B(t){e.console&&e.console.log(t)}function j(e){return e.replace(C,A)}function F(e){return j(e).replace(N,L)}function I(e){return F(e.replace(x,A).replace(T,A))}function q(e,t,n){var r=e.className,i=R(r,t,n);if(i!=r){e.className=i;e.parentNode.className+=k}}function R(e,t,n){var r=RegExp("(^|\\s)"+t+"(\\s|$)"),i=r.test(e);return n?i?e:e+L+t:i?j(e.replace(r,A)):e}function U(e,t,n){e.attachEvent("on"+t,n)}function z(){if(e.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){return null}}function W(e){r.open("GET",e,!1);r.send();return r.status==200?r.responseText:k}function X(e,t){function n(e){return e.substring(0,e.indexOf("/",8))}if(/^https?:\/\//i.test(e))return n(t)==n(e)?e:null;if(e.charAt(0)=="/")return n(t)+e;var r=t.split(/[?#]/)[0];e.charAt(0)!="?"&&r.charAt(r.length-1)!="/"&&(r=r.substring(0,r.lastIndexOf("/")+1));return r+e}function V(e){return e?W(e).replace(c,k).replace(h,function(t,n,r,i,s){return V(X(r||s,e))}).replace(p,function(t,n,r){n=n||k;return" url("+n+X(r,e)+n+") "}):k}function $(){var e,n,r=t.getElementsByTagName("BASE"),i=r.length>0?r[0].href:t.location.href;for(var s=0;s<t.styleSheets.length;s++){n=t.styleSheets[s];if(n.href!=k){e=X(n.href,i);e&&(n.cssText=O(V(e)))}}u.length>0&&setInterval(function(){for(var e=0,t=u.length;e<t;e++){var n=u[e];if(n.disabled!==n.$disabled)if(n.disabled){n.disabled=!1;n.$disabled=!0;n.disabled=!0}else n.$disabled=n.disabled}},250)}function J(e,r){var i=!1,s=!0,o=function(n){if(n.type=="readystatechange"&&t.readyState!="complete")return;(n.type=="load"?e:t).detachEvent("on"+n.type,o,!1);!i&&(i=!0)&&r.call(e,n.type||n)},u=function(){try{n.doScroll("left")}catch(e){setTimeout(u,50);return}o("poll")};if(t.readyState=="complete")r.call(e,k);else{if(t.createEventObject&&n.doScroll){try{s=!e.frameElement}catch(a){}s&&u()}U(t,"readystatechange",o);U(e,"load",o)}}return})(this);window.matchMedia=window.matchMedia||function(e,t){var n,r=e.documentElement,i=r.firstElementChild||r.firstChild,s=e.createElement("body"),o=e.createElement("div");o.id="mq-test-1";o.style.cssText="position:absolute;top:-100em";s.style.background="none";s.appendChild(o);return function(e){o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>';r.insertBefore(s,i);n=o.offsetWidth==42;r.removeChild(s);return{matches:n,media:e}}}(document);(function(e){function S(){b(!0)}e.respond={};respond.update=function(){};respond.mediaQueriesSupported=e.matchMedia&&e.matchMedia("only all").matches;if(respond.mediaQueriesSupported)return;var t=e.document,n=t.documentElement,r=[],i=[],s=[],o={},u=30,a=t.getElementsByTagName("head")[0]||n,f=t.getElementsByTagName("base")[0],l=a.getElementsByTagName("link"),c=[],h=function(){var t=l,n=t.length,r=0,i,s,u,a;for(;r<n;r++){i=t[r],s=i.href,u=i.media,a=i.rel&&i.rel.toLowerCase()==="stylesheet";if(!!s&&a&&!o[s])if(i.styleSheet&&i.styleSheet.rawCssText){d(i.styleSheet.rawCssText,s,u);o[s]=!0}else(!/^([a-zA-Z:]*\/\/)/.test(s)&&!f||s.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&c.push({href:s,media:u})}p()},p=function(){if(c.length){var e=c.shift();w(e.href,function(t){d(t,e.href,e.media);o[e.href]=!0;setTimeout(function(){p()},0)})}},d=function(e,t,n){var s=e.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),o=s&&s.length||0,t=t.substring(0,t.lastIndexOf("/")),u=function(e){return e.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+t+"$2$3")},a=!o&&n,f=0,l,c,h,p,d;t.length&&(t+="/");a&&(o=1);for(;f<o;f++){l=0;if(a){c=n;i.push(u(e))}else{c=s[f].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1;i.push(RegExp.$2&&u(RegExp.$2))}p=c.split(",");d=p.length;for(;l<d;l++){h=p[l];r.push({media:h.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:i.length-1,hasquery:h.indexOf("(")>-1,minw:h.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:h.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}}b()},v,m,g=function(){var e,r=t.createElement("div"),i=t.body,s=!1;r.style.cssText="position:absolute;font-size:1em;width:1em";if(!i){i=s=t.createElement("body");i.style.background="none"}i.appendChild(r);n.insertBefore(i,n.firstChild);e=r.offsetWidth;s?n.removeChild(i):i.removeChild(r);e=y=parseFloat(e);return e},y,b=function(e){var o="clientWidth",f=n[o],c=t.compatMode==="CSS1Compat"&&f||t.body[o]||f,h={},p=l[l.length-1],d=(new Date).getTime();if(e&&v&&d-v<u){clearTimeout(m);m=setTimeout(b,u);return}v=d;for(var w in r){var E=r[w],S=E.minw,x=E.maxw,T=S===null,N=x===null,C="em";!S||(S=parseFloat(S)*(S.indexOf(C)>-1?y||g():1));!x||(x=parseFloat(x)*(x.indexOf(C)>-1?y||g():1));if(!E.hasquery||(!T||!N)&&(T||c>=S)&&(N||c<=x)){h[E.media]||(h[E.media]=[]);h[E.media].push(i[E.rules])}}for(var w in s)s[w]&&s[w].parentNode===a&&a.removeChild(s[w]);for(var w in h){var k=t.createElement("style"),L=h[w].join("\n");k.type="text/css";k.media=w;a.insertBefore(k,p.nextSibling);k.styleSheet?k.styleSheet.cssText=L:k.appendChild(t.createTextNode(L));s.push(k)}},w=function(e,t){var n=E();if(!n)return;n.open("GET",e,!0);n.onreadystatechange=function(){if(n.readyState!=4||n.status!=200&&n.status!=304)return;t(n.responseText)};if(n.readyState==4)return;n.send(null)},E=function(){var e=!1;try{e=new XMLHttpRequest}catch(t){e=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}();h();respond.update=h;e.addEventListener?e.addEventListener("resize",S,!1):e.attachEvent&&e.attachEvent("onresize",S)})(this);